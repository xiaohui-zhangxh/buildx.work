# 回顾和总结经验

> 通用指令：回顾规则文件和项目文档，总结工作经验并更新到相关文档

## 📋 指令说明

在工作到某个阶段或完成某个任务后，回顾规则文件和项目文档，检查是否有可以总结的经验，并将经验更新到相关文档中。

### 使用方式

**Cursor 斜线命令**：`/review-and-summarize`  
**直接描述**：`回顾规则文件和项目文档，总结经验` 或 `工作到这里，你可以先回顾一下我们的规则文件和项目文档，看看这次经验有没有可以总结进去的内容`

## 🔍 工作流程

### 步骤1：回顾当前工作

1. **识别当前工作内容**：
   - 查看最近完成的任务
   - 了解当前的工作阶段
   - 识别遇到的问题和解决方案

2. **分析工作过程**：
   - 回顾工作流程是否顺畅
   - 检查是否有重复性的操作
   - 识别可以优化的环节

### 步骤2：检查规则文件

按优先级检查以下规则文件：

1. **通用规则**：`.cursor/rules/base.mdc`
   - 检查是否有通用的经验可以总结
   - 查看是否有新的工作模式需要记录

2. **项目特定规则**：`.cursor/rules/workspace.mdc`
   - 检查是否有项目特定的经验
   - 查看是否有新的工作流程需要记录

3. **其他规则文件**：`.cursor/rules/*.mdc`
   - 根据当前工作内容，检查相关的规则文件
   - 例如：如果涉及文档更新，检查 `changelog.mdc`
   - 例如：如果涉及认证功能，检查 `authentication.mdc`
   - 例如：如果涉及权限系统，检查 `action-policy.mdc`
   - 例如：如果涉及 UI 开发，检查 `daisy-ui.mdc`
   - 例如：如果涉及资源管理，检查 `assets-management.mdc`

### 步骤3：检查项目文档

根据当前工作阶段，检查相关文档：

1. **当前工作状态**：`CURRENT_WORK.md`
   - 检查当前任务和进度是否准确
   - 查看"今日笔记"中是否有可总结的经验

2. **开发者指南**：`docs/DEVELOPER_GUIDE.md`
   - 检查技术决策是否需要更新
   - 查看是否有新的架构设计需要记录
   - 检查开发规范是否需要补充

3. **阶段文档**：`docs/phase-{阶段名}/`
   - **notes.md** - 检查开发笔记，查看是否有可总结的经验
   - **progress.md** - 检查开发进度，确认任务状态
   - **plan.md** - 检查开发计划，确认是否需要调整

4. **开发经验记录**：`docs/experiences/`
   - 检查是否有类似问题的解决方案
   - 查看是否需要添加新的经验文档

5. **项目根文档**：
   - `README.md` - 检查项目说明是否需要补充
   - `docs/FEATURES.md` - 检查功能清单是否需要更新
   - `docs/DEVELOPMENT_PLAN.md` - 检查开发计划是否需要调整

### 步骤4：总结和更新

1. **识别可总结的经验**：
   - 新的工作流程或模式
   - 常见问题的解决方案
   - 最佳实践和注意事项
   - 需要避免的错误或陷阱

2. **确定更新位置**：
   - **通用经验** → 更新到 `base.mdc` 或相关通用规则文件
   - **项目特定经验** → 更新到 `workspace.mdc` 或 `docs/DEVELOPER_GUIDE.md`
   - **阶段特定经验** → 更新到对应阶段的 `notes.md`（如 `docs/phase-1-authentication/notes.md`）
   - **技术问题解决方案** → 更新到 `docs/experiences/` 目录（创建新的经验文档）
   - **特定场景经验** → 更新到对应的规则文件（如 `changelog.mdc`、`authentication.mdc`、`action-policy.mdc` 等）

3. **执行更新**：
   - 使用 `search_replace` 工具更新规则文件
   - 保持文档格式和结构一致
   - 在文档头部更新"最后更新"日期（如适用）

### 步骤5：验证更新

1. **检查格式**：确保更新后的文档格式正确
2. **检查内容**：确保经验总结准确、清晰
3. **检查一致性**：确保与现有内容不冲突

## ⚠️ 重要规则

1. **必须回顾**：不要跳过回顾步骤，确保全面检查
2. **分类总结**：根据经验类型选择合适的文档位置
3. **保持格式**：更新文档时保持原有格式和结构
4. **避免重复**：检查是否已有类似内容，避免重复记录
5. **及时更新**：发现可总结的经验应立即更新，不要拖延

## 💡 经验总结原则

### 应该总结的经验

- ✅ **重复性操作**：经常需要执行的操作流程
- ✅ **常见问题**：经常遇到的问题和解决方案
- ✅ **最佳实践**：经过验证的最佳工作方式
- ✅ **注意事项**：容易出错或需要特别注意的地方
- ✅ **工作模式**：新的工作模式或流程改进

### 不应该总结的内容

- ❌ **一次性操作**：只执行一次的操作
- ❌ **临时方案**：临时性的解决方案
- ❌ **未验证的方法**：未经充分验证的方法
- ❌ **过于具体**：过于具体、不具通用性的内容

## 📝 更新文档时的注意事项

1. **保持结构**：更新时保持文档的原有结构和格式
2. **添加位置**：在合适的位置添加新内容，不要随意插入
3. **更新元数据**：如果规则文件有"最后更新"字段，记得更新
4. **版本记录**：如果文档有版本记录，添加新的版本说明

## 💡 使用示例

```
用户：工作到这里，你可以先回顾一下我们的规则文件和项目文档，看看这次经验有没有可以总结进去的内容

AI 执行：
1. 回顾当前工作（查看 CURRENT_WORK.md，分析最近完成的任务）
2. 检查规则文件（base.mdc、workspace.mdc 等）
3. 检查项目文档（CURRENT_WORK.md、docs/DEVELOPER_GUIDE.md、阶段 notes.md 等）
4. 识别可总结的经验
5. 更新到合适的文档位置（规则文件、开发者指南、阶段笔记或经验文档）
6. 验证更新结果
```

## 🔗 相关文件

### 规则文件

- 通用规则：`.cursor/rules/base.mdc`
- 项目规则：`.cursor/rules/workspace.mdc`
- 规则创建指南：`.cursor/rules/cursor-rules.mdc`
- 指令创建指南：`.cursor/rules/cursor-commands.mdc`

### 项目文档

- 当前工作状态：`CURRENT_WORK.md` ⭐ 每日必看
- 开发者指南：`docs/DEVELOPER_GUIDE.md`
- 文档索引：`docs/README.md`
- 开发经验：`docs/experiences/`
- 阶段文档：`docs/phase-*/notes.md`、`docs/phase-*/progress.md`

---

**创建日期**：2025-11-26  
**最后更新**：2025-11-26  
**指令类型**：通用指令

